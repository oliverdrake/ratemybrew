<template name="addSwap">
  {{> insertSwapForm}}
</template>


<template name="caseSwap">
  <div class="panel panel-default">
    <div class="panel-heading"><h4>{{name}}</h4></div>
    <div class="panel-body">
      <p>{{description}}</p>
      <p><strong>Swap date:</strong> {{swapDate}}</p>

      <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="4" aria-valuemin="0" aria-valuemax="12" style="width: 30%">
          <span>4/12 beers reviewed</span>
        </div>
      </div>
    </div>
  </div>

  {{> participants}}

</template>


<template name="insertSwapForm">
  {{#autoForm collection="CaseSwaps" id="insertSwapForm" type="insert"}}
  <fieldset>
    <legend>Create a new case swap</legend>
    {{> afQuickField name='name'}}
    {{> afQuickField name='swapDate'}}
    {{> afQuickField name='description' rows=6}}
  </fieldset>
  <button type="submit" class="btn btn-primary">Create</button>
  {{/autoForm}}
</template>


<template name="participants">
  <div class="panel panel-default">
    <div class="panel-heading"><h4>Participants</h4></div>
    <div class="panel-body">
      {{#each participants}}
      <p>{{this}}</p>
      {{/each}}

      {{> inviteForm}}

    </div>
  </div>
</template>


<template name="inviteForm">
  {{#autoForm collection="CaseSwaps" id="inviteForm" type="method" meteormethod="invitePeopleToSwap"}}
  <fieldset>
    {{> afQuickField name='participants' label='Invite' options=userOpts}}
  </fieldset>
  <button type="submit" class="btn btn-primary">Invite</button>
  {{/autoForm}}
</template>
