<template name="addSwap">
  {{> insertSwapForm}}
</template>


<template name="caseSwap">
  <div class="panel panel-default">
    <div class="panel-heading"><h4>{{name}}</h4></div>
    <div class="panel-body">
      <p>{{description}}</p>
      <p><strong>Swap date:</strong> {{swapDate}}</p>

      <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="4" aria-valuemin="0" aria-valuemax="12" style="width: 30%">
          <span>4/12 beers reviewed</span>
        </div>
      </div>
    </div>
  </div>

  {{#if hasNotJoined }}
  <div class="panel panel-default">
    <div class="panel-heading"><h4>Join this swap?</h4></div>
    <div class="panel-body">
      {{> insertBeerForm}}
    </div>
  </div>
  {{/if}}

  {{> participants}}

  {{> inviteForm}}

</template>


<template name="insertSwapForm">
  {{#autoForm collection="CaseSwaps" id="insertSwapForm" type="insert"}}
  <fieldset>
    <legend>Create a new case swap</legend>
    {{> afQuickField name='name'}}
    {{> afQuickField name='swapDate'}}
    {{> afQuickField name='description' rows=6}}
  </fieldset>
  <button type="submit" class="btn btn-primary">Create</button>
  {{/autoForm}}
</template>


<template name="insertBeerForm">
      {{#autoForm collection="Beers" id="insertBeerForm" type="insert"}}
      <fieldset>
        <legend>Tell us about your beer</legend>
        {{> afQuickField name='name'}}
        {{> afQuickField name='description' rows=6}}
      </fieldset>
      <button type="submit" class="btn btn-primary">Add beer and join</button>
      {{/autoForm}}

</template>


<template name="participants">
  <div class="panel panel-default">
    <div class="panel-heading"><h4>Participants</h4></div>
    <div class="panel-body">
      <p>
        {{#each joinedParticipants}}
        <p>{{name}} is bringing {{beerName}}. <a href="/score/{{beerId}}">Review it</a></p>
        {{/each}}
      </p>

      <p>
        {{#if invitees}}
          <strong>Invited:</strong>
          {{#each invitees}}
          <p>
            {{name}}
          </p>
          {{/each}}
        {{/if}}
      </p>

    </div>
  </div>
</template>


<template name="inviteForm">
  <div class="panel panel-default">
    <div class="panel-heading"><h4>Invite</h4></div>
    <div class="panel-body">
      <form>
        <fieldset>
          <select class="form-control">
            {{#each userOpts}}
            <option value="{{value}}">{{label}}</option>
            {{/each}}
          </select>
        </fieldset>
        <button type="submit" class="btn btn-primary">Invite</button>
      </form>
    </div>
  </div>
</template>
